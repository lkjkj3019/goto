# goto
깃허브 마지막 프로젝트 저장소입니다.

--------------------------------------------------------------------------------------------------------------------------
---첫시작---
우리들의 약속
* server는 / 로시작

* a는 관리자 c는 고객 jsp앞에 붙이기
 
*  다른 사람이 코드 봤을때 어떤 코드인지 알아볼 수 있게 주석 활용!!!중요

* 클래스, 인터페이스
- 맨 첫번재 대문자 다음부터 새로운 단어 나오면 그 단어 첫번째만 대문자

* 메소드 & 변수 & jsp 이름
- 첫글자 소문자 다음부터 새로운 단어 나오면 그 단어 첫번째만 대문자

* 라이브러리나 dto 추가사항있으면 바로바로 말하기~!

* 코드짜는데 중간에 막히거나 모르면 계속연락하기~~

* 카카오지도 API

***********************************
점심먹고

12. 
13. 다끝났는데 시간남으면 제외지역이나 호텔, 주변맛집, 랜드마크 데이터 더 긁어오기


테이블 추가사항
* 업체
- 업체코드          NVARCHAR2(5)       PK
- 업체아이디                 NVARCHAR2(20)    NN   UQ
- 업체PW    NVARCHAR2(20)     NN
- 업체이름          NVARCAHR2(30)      NN
- 업체 전화번호       NVARCHAR2(20)     NN 
- 업체 이메일  NVARCHAR2(20)    NN
- 업체 주소   NVARCHAR2(500) UQ

* 숙소에 업체코드 추가

* 찜 목록 추가

* 방갯수 추가

* 지역
- 지역코드 NVARCHAR2(5) PK
- 지역이름(시) NVARCHAR2(20) NN
- 나눠진 지역 NVARCHAR2

ex)
* 지역 테이블
001 오사카 1구
002 오사카 2구
003 오사카 3구

* 숙소 테이블
001 FK 숙소 1

* 맛집 테이블
001 FK 맛집 1
001 FK 맛집 2
001 FK 맛집 3
001 FK 맛집 4
001 FK 맛집 5

* 관광지 테이블
001 FK 관광지 1
001 FK 관광지 2
001 FK 관광지 3
001 FK 관광지 4

**********************************
기두 쌤 피드백 사항

1.(OK) 
업체(호텔등록, )
이용자(예매)
관리자(맛집,관광지 리스트, 후기 관리)
나눠서 관리

- 해결방안 :
1. 회원 테이블 , 업체 테이블 구분
2. 업체는 회원가입시 관리자의 승인을 받아야 사용가능
3. 회원가입 페이지는 14세 미만, 14세 이상 처럼 회원, 관리자 나눠서 가능하도록
4. 로그인 페이지는 한 페이지 내에서 버튼을 누르면 색상이 바뀌며 JS에서 구분
(업체로 로그인시 업체 관리(호텔등록) 페이지로 넘어감)

2. 기능 순서 정리하기(기술소개서 할때 필요)
3. 야놀자, 여기어때 벤치마킹
**********************************

jsp흐름 및 기능
관리자페이지 ADMIN 일때랑 그냥 업체일때랑 구분해서 보여줘야함


김종현

고객jsp
-- 메인
footer 검색(호텔이름)
메인 검색(하나만 선택해도 눌렀을 때 호텔리스트로 가게)
프론트 많음....

-- 마이페이지
내 정보 수정 
회원탈퇴 (좋아요>후기>예약목록>찜>1대1>회원)

-- 자주묻는질문
 탬플릿 카테고리 따서 자주묻는질문 arraylist로 select
(드롭다운 형식으로 보이는곳은 질문(Q) 드롭다운 내리면 답변(A))

관리자(업체)jsp
-- 후기리스트 관리
작성자, 작성날짜, 호텔이름, 삭제

-- 1대1 문의 답변 폼
카테고리로 분류하기(select방식)
질문내용, 답변적을공간, 관리자이름(readonly속성)

-- 룸 상세보기
호텔상세보기랑 똑같이
룸이름 누르면 상세보기에서 수정(업체 권한)


김태은

고객jsp
-- 로그인 loginForm.jsp  
아이디 비밀번호 확인 (회원이랑 업체랑 다르게)
[카톡 api로 로그인]

-- 룸디테일   
카테고리 활용해서 예약하기(체크인,체크아웃,인원)
맛집, 관광지리스트 버튼추가
룸정보 불러오기 (룸사진, 방이름, 방정보, 최소인원, 최소인원, 가격,체크인,체크아웃,인원)

-- 1대1 문의 작성 폼
메세지보내는 탬플릿 사용
카테고리(select방식), 제목, 작성자, 내용

관리자(업체)jsp
-- 자주묻는질문 리스트
카테고리(select방식) 페이지 관련 질문(1대1문의 카테고리(코드) 컬럼)
예)
카테고리 테이블
Q1 예약관련
Q2 취소관련
Q3 할인관련

Help
H1 Q1 id 제목 내용 답변 날짜
제목, 작성자(H_MID 컬럼), 내용

-- 룸 등록 Roomwriteform
숙소를 고를 수 있는 셀렉트 박스 두기
룸 이름, 룸 사진, 룸 상세정보, 룸 최소인원, 룸 최대인원, 가격, 방 개수

-- 룸 리스트
각자 자기 등록한 호텔만 보이게 sessionScope.loginId)
업체코드, 룸코드, 룸이름, 방갯수, 삭제(관리자,업체 권한)

-- 업체정보수정
업체 아이디, 업체 비밀번호, 업체 이름, 업체 코드(번호),
업체 이메일, 업체 주소 보여주고 한번에 수정하기
**한번에 보여주고 수정하기 버튼누르면 수정할수있게 바뀌고 저장누르면 수정


성석제

고객jsp
-- 회원가입(joinSelect.jsp  joinMember.jsp)
아이디 중복체크
비밀번호 일치확인
member, company에 insert

-- 나의후기
나의 후기 목록
호텔이름 누르면 호텔 상세보기
후기삭제

관리자(업체)jsp
-- 맛집등록
식당이름, 식당주소, 식당사진, 식당소개글, 지역 고르기

-- 관리자(업체)메인 companyIndex 
사이드바, body에는 카테고리로 바로 넘어갈 수 있게 구현

-- 1대1 문의 리스트
질문자아이디, 질문자이름, 질문 제목, 질문날짜



이경진 

고객jsp
-- 회원가입(joinCompany.jsp)
아이디 중복체크
비밀번호 일치확인
member, company에 insert

-- 찜목록  
찜목록 불러오기
호텔이름 누르면 호텔 상세보기
찜취소

-- 1대1 문의 목록
드롭다운형식(탬플릿은 정보공유방에)
만약 답변이 있으면 화살표 클릭했을때 답변 보이고 답변완료
답변 없으면 화살표 클릭해도 답변 안 나오고 답변중

관리자(업체)jsp
-- 업체 리스트
업체코드, 업체이름, 업체 아이디, 업체이메일, 삭제

 자주묻는질문 관리
카테고리 선택, 자주묻는질문 제목, 자주묻는질문 내용
**쓸만한 질문은 긁어오기

--호텔 등록
지역 선택, 호텔이름, 호텔 사진, 호텔 위치, 호텔 홍보멘트,호텔 정보
(무료와이파이, 조식, 무료주차, 이른 체크인, 늦은 체크아웃, 체크인 시간, 체크아웃 시간 ,세부사항) 
 등록버튼 누르면 HOTEL 테이블, H_INFO 테이블에 insert
**여기서 호텔등록한걸로 고객페이지에 호텔리스트에는 불러오기만

--호텔 상세보기
호텔상세보기랑 똑같이
호텔이름누르면 상세보기에서 수정 


서보배 

고객jsp
-- 내가 예약한 목록  
내가 예약한 목록 foreach문으로 불러오기
호텔이름 누르면 호텔상세보기
호텔 예약취소(날짜가 현재랑 비교해 미래일 경우 삭제)

-- 호텔리스트  
페이징처리
왼쪽 카테고리 바뀌면 호텔리스트도 바뀌도록
호텔사진이랑 이름 클릭하면 룸리스트로 가도록
지도대신 일본사진

-- 룸리스트   
호텔정보, 세부사항 불러오기
호텔후기 등록,수정,삭제,좋아요
방리스트 불러오기
방리스트랑 호텔후기는 스크롤

관리자(업체)jsp
-- 업체 회원가입 승인 
업체 아이디, 업체 이름, 업체 번호, 업체 주소, 업체 이메일, 승인/거절
승인/거절은 버튼으로 그래서 승인 누르면 1로 바껴서
그때부터 업체 아이디 사용 가능하게

-- 회원 리스트
회원코드, 회원이름, 회원아이디, 회원이메일, 삭제

-- 호텔리스트
각자 자기 등록한 호텔만 보이게 sessionScope.loginId)
지역코드, 업체코드, 호텔코드, 호텔이름, 삭제


최현호

고객jsp
-- 부킹체크  
멤버 정보불러오기, 룸정보 불러오기
전페이지에서 받아온 데이터 select해서 리드온리
예약테이블에 insert, 호텔정보 불러오기, 예약누르면 끝

-- 맛집리스트, 관광지리스트  
리스트 불러오고 지도 띄우기(템플릿은 호텔리스트랑 동일)

관리자(업체)jsp
-- 관광지등록
관광지이름, 관광지주소, 관광지사진, 관광지소개글, 지역 고르기

-- 맛집 리스트
맛집코드, 식당이름, 수정/삭제

-- 관광지 리스트
관광지코드, 관광지이름, 수정/삭제

====================================================
comtroller, service, mapper 이름은
 member, company, help, hotel, restaurant, landmark, review

--------------------------------------------------------------------------------------------------------------------------
--오구오구팀 플젝 흐름--
연결
고객 회원가입후 < 메인 -- ok
고객로그인 < 메인  -- ok
관리자로그인 < 관리자페이지  -- ok
호텔리스트 < 룸 리스트 < 룸 디테일 < 예약체크 < 메인 -- ok
룸디테일 < 맛집리스트, 관광지리스트 --ok
마이페이지 < 내정보(사이드 바 Bookinglist, 찜목록, 회원탈퇴) -- ok
Bookinglist < roomlist -- ok
회원탈퇴 -> 메인 -- ok
help누르면 < 자주묻는질문list -- ok
(사이드바 만들어야함 자주묻는질문, 1대1문의 작성폼, 1대1 문의 목록)

경진이꺼 합친후 해야될 것
관리자 회원가입후 < 메인 
1대1문의 작성폼 < 1대1 문의 목록
1대1 문의 목록 (글쓰기 버튼) < 1대1문의 작성폼
찜목록 < roomlist


내일 수정,오류사항
경진 우편번호버튼 스크립트
현호 관광지 등록(laphoto 오류)
경진 찜목록 서버쪽 수정


수정
석제 1대1문의 리스트(관리자)
답변완료되면 뜨지않게 

1/19일 추가사항
태은 1대1문의목록 글쓰기 버튼 연결 & 관리자 버튼 경진이껄로 통일 수정
1대1문의 리스트 제목누르면 답변작성폼으로 가게


수정,오류사항 다한부분
경진 업체리스트 jsp수정 --ok
경진 호텔등록 관리자jsp수정 --ok
경진 자묻질 작성폼 관리자jsp수정 --ok
경진 1대1문의목록 --ok
석제 관리자 main frnon (수정) --ok
석제 이메일 select로 수정 --ok
석제 1대1문의 리스트(오류) --ok
( [com.Hotel.dto.HelpDTO]에서 프로퍼티 [he_mid]을(를) 찾을 수 없습니다)
현호 맛집리스트에서 수정부분 눌렀을때 (css 수정) --ok
현호 관광지리스트에서 수정부분 눌렀을때 (css 수정) --ok
종현 1대1문의 답변작성 폼(오류) --ok
종현 1대1답변작성 폼(오류)--ok
종현 마이페이지(오류) --ok
(부적합한 열 유형: 1111)


--------------------------------------------------------------------------------------------------------------------------
---수정 시작---

수정한 부분 (01/20)
- 마이페이지 수정 후 수정완료 메세지
- 후기 리스트 페이징 처리
- 룸디테일 로그인하지 않았을 경우 예약 버튼 삭제
- 룸디테일 체크인 체크아웃 데이터 없을 시 예약 되지 않게 수정
- 부킹체크 예약 완료 되면 예약 완료 메세지
- 로그인 되면 회원가입 버튼이 보이지 않게 수정
- 회원가입 완료되면 완료 메세지 수정 (고객, 업체 둘다)
- 업체 회원가입 주소찾기 api 연결
- 1대1문의 작성폼 help code 만드는거 없길래 만들어서 insert하도록 수정
- help 로그인 하지 않았을 경우 1대1문의 목록, 작성 보이지 않게 수정
- 1대1문의 작성되면 작성 완료 메세지 뜨게 수정
- 1대1문의 제목, 내용 작성되지 않으면 넘어가지 않게 수정
- 회원, 업체 로그인 성공하면 로그인 되었습니다 메세지
- 회원, 업체 로그인 실패하면 로그인 실패 메세지
- 로그인시 파라미터 값으로 로그인 아이디 비밀번호 나오는거 수정
- 호텔등록 주소 찾기 api 수정
- 호텔 등록 오류나서 수정
- 호텔 등록 지역 값이 들어가지 않으면 insert되지 않도록 수정
- 호텔등록 값이 하나라도 없으면 insert 되지 않도록 수정
- 룸 등록 호텔 불러와서 선택하는 부분 하나도 안되어 있어서 코드 추가
- 룸 등록 룸 코드 선택해서 만드는 부분 안되어 있어서 코드 추가
- 룸 등록 input에 값이 없으면 insert되지 않도록 코드 수정

수정한 부분 (01/21)
- 룸리스트 삭제 버튼 작동 안돼서 수정
- 룸리스트 비밀번호가 일치해야 삭제가 가능하도록 수정
- 룸리스트 삭제되면 삭제 메세지 뜨게 수정
- 업체정보수정 수정되면 수정 메시지 뜨도록 수정
- 회원리스트 비밀번호 입력해야 삭제가 가능하도록 수정
- 회원리스트 삭제 후 삭제된 회원이 사라지지 않아 사라지도록 수정
- 업체리스트 비밀번호 입력해야 삭제 되도록 수정
- 업체리스트 삭제 후 삭제 완료 메세지
- 고객후기 삭제 후 삭제 완료 메세지
- 맛집등록 지역 세분화해서 등록 가능하도록 수정
- 맛집등록 주소 api 사용하도록 수정
- restaurant dto 수정
- 주소 api js파일 만들어서 참조하도록 수정
- 호텔 등록 city 코드 찾아서 insert해야하는데 city테이블을 insert시켜버려서 수정
- 맛집등록 INSERT 수정
- 맛집등록 값이 없을경우 INSERT되지 않도록 수정
- 맛집 상세보기 기존의 맛집 이름이 보이지 않아서 보이도록 수정
- 맛집 수정되면 수정 완료 메세지, 삭제되면 삭제 완료 메세지
- 랜드마크 등록 지역 세분화해서 등록 가능하도록 수정
- 랜드마크 insert 수정
- 랜드마크 등록 값이 없을 경우 insert 되지 않도록 수정
- 1대1문의 리스트 답변된 항목도 떠서 답변된 질문은 더이상 뜨지 않도록 수정
- 자주묻는 질문 수정되면 수정완료 메세지, 삭제되면 삭제완료 메세지
- 아직 승인 되지 않은 업체가 로그인시 로그인 되지 않도록 수정

* 수정해야하는 부분
- hotel mapper (c_HotelList) 수정함 (수정 완료)
- hotel resultMap 수정함 (수정완료)
- c_hotelList 수정함 (수정완료)
- 로그인 api (로그인 페이지jsp 수정)
- 로그인 api membercontroller, service, mapper 수정 (수정 완료)
- 로그인 api joinKakaoForm.jsp 추가 (수정 완료)

1 landmark, restaurant 페이징 처리, 검색 (페이지 번호가 줄어들지 않고 늘어나기만 함)
2 landmark, restauran 검색이 올바르게 되지 않음
3 landmark, restaurant roomdetail에서 넘어갈 때 그 지역에 관련된 정보만 뜨도록 수정
(지금은 모든 지역의 정보가 다 뜨고 있음)
4 landmark, restaurant 지금은 서울, 부산 이렇게 큰 지역으로만 나눠져있는데 여기서 동,서,남,북 별로 볼 수 있도록 수정
(더 세밀한 범위로 볼 수 있도록  수정)
5 1대1문의 문의 카테고리 별로 질문 볼 수 있도록 수정
6 FAQ 문의 카테고리 별로 질문 볼 수 있도록 수정
7 1대1 문의 작성 폼 카테고리 별로 insert 할 수 있도록 수정
8 1대1 문의 목록 앞에 카테고리 목록이 어떤것인지 뜨도록 수정
9 자주묻는질문 드롭다운 카테고리코드(QCODE)로 되어있어서 수정필요
10 마이페이지에서 예약목록이 없을 때 오류 발생

--프론트 수정한 내용--
페이지 로고 색상 수정
a태그 링크 값 #에서 수정
헤더 메뉴 크기 및 색상 수정
회원 로그인 업체 로그인 디자인 통일
관리자 수정, 삭제 버튼 디자인 수정
내정보 리드온리 적용 해제 수정
회원가입 버튼 크기 및 위치 수정
회원 로그인에 아이디 비밀번호 찾기 기능 추가
업체 회원가입 이메일 디자인 수정
중복 되는 class 수정 ex)"btn site-btn"
등록, 수정 페이지 text에 placeholder 추가

--프론트 추가 수정--
버튼 디자인 수정, 규격 수정
작성 페이지 디자인 수정



